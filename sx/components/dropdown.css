/* OKLCH Design System - Dropdown */
.dropdown {
  position: relative;
  display: inline-block;
  z-index: var(--z-dropdown);
}

.dropdown__toggle {
  display: flex;
  align-items: center;
  gap: var(--s-sm);
  cursor: pointer;
  list-style: none; /* For summary */
}

.dropdown__toggle::-webkit-details-marker {
  display: none;
}

.dropdown__toggle::after {
  content: "â–¾";
  font-size: var(--fs-xs);
  transition: transform var(--transition-fast);
}

.dropdown[open] .dropdown__toggle::after {
  transform: rotate(180deg);
}

.dropdown__menu {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 12rem;
  background: var(--surface);
  border: var(--bw-sm) solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-2);
  z-index: calc(var(--z-dropdown) + 1);
  margin-top: var(--s-sm);
  /* Animation for open */
  animation: dropdown-fade-in var(--transition-fast);
}

@keyframes dropdown-fade-in {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

.dropdown__item {
  display: block;
  width: 100%;
  padding: var(--s-md) var(--s-lg);
  border: none;
  background: transparent;
  text-align: left;
  cursor: pointer;
  color: var(--text);
  text-decoration: none;
}

.dropdown__item:hover {
  background: var(--bg-alt);
}

/* Close when clicking outside is natively handled by <details> if using the 'name' attribute or just standard behavior?
   Actually standard <details> doesn't close on outside click natively.
   We can add a backdrop or simple JS.
   Given "eliminate JS where solvable with CSS", standard <details> is "toggle to open, toggle to close".
   If we want "click outside to close", we need a lightweight JS listener or a backdrop hack.
   I will stick to standard <details> behavior for now as it eliminates JS state management,
   but for a dropdown, a lightweight click-outside listener is acceptable UX.
   The plan step said "Refactor to use details pattern". */